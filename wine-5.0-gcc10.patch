--- a/dlls/crypt32/crypt32_private.h	2020-01-21 11:03:21.000000000 -0600
+++ b/dlls/crypt32/crypt32_private.h	2020-01-22 09:09:42.545954092 -0600
@@ -152,7 +152,7 @@
  */
 HCRYPTPROV WINAPI I_CryptGetDefaultCryptProv(ALG_ID);
 
-HINSTANCE hInstance DECLSPEC_HIDDEN;
+extern HINSTANCE hInstance DECLSPEC_HIDDEN;
 
 void crypt_oid_init(void) DECLSPEC_HIDDEN;
 void crypt_oid_free(void) DECLSPEC_HIDDEN;
--- a/dlls/gphoto2.ds/gphoto2_i.h	2020-01-21 11:03:21.000000000 -0600
+++ b/dlls/gphoto2.ds/gphoto2_i.h	2020-01-22 10:07:59.403974843 -0600
@@ -100,7 +100,7 @@
     struct jpeg_decompress_struct	jd;
     struct jpeg_error_mgr		jerr;
 #endif
-} activeDS DECLSPEC_HIDDEN;
+} extern activeDS DECLSPEC_HIDDEN;
 
 /* Helper functions */
 extern TW_UINT16 GPHOTO2_SaneCapability (pTW_CAPABILITY pCapability, TW_UINT16 action) DECLSPEC_HIDDEN;
--- a/dlls/gphoto2.ds/gphoto2_main.c	2020-01-22 10:22:39.110786117 -0600
+++ b/dlls/gphoto2.ds/gphoto2_main.c	2020-01-22 10:22:51.743818190 -0600
@@ -33,6 +33,8 @@
 
 WINE_DEFAULT_DEBUG_CHANNEL(twain);
 
+struct tagActiveDS activeDS;
+
 DSMENTRYPROC GPHOTO2_dsmentry;
 
 #ifdef HAVE_GPHOTO2
--- a/dlls/secur32/secur32_priv.h	2020-01-21 11:03:21.000000000 -0600
+++ b/dlls/secur32/secur32_priv.h	2020-01-22 10:31:24.606451345 -0600
@@ -190,8 +190,8 @@
 #define NTLMSSP_NEGOTIATE_56                        0x80000000
 
 
-SecPkgInfoW *ntlm_package_infoW DECLSPEC_HIDDEN;
-SecPkgInfoA *ntlm_package_infoA DECLSPEC_HIDDEN;
+extern SecPkgInfoW *ntlm_package_infoW DECLSPEC_HIDDEN;
+extern SecPkgInfoA *ntlm_package_infoA DECLSPEC_HIDDEN;
 
 /* schannel internal interface */
 typedef struct schan_imp_session_opaque *schan_imp_session;
--- a/dlls/sane.ds/sane_i.h	2020-01-21 11:03:21.000000000 -0600
+++ b/dlls/sane.ds/sane_i.h	2020-01-22 10:44:01.675004730 -0600
@@ -36,7 +36,7 @@
 #include "twain.h"
 
 #ifdef SONAME_LIBSANE
-#define MAKE_FUNCPTR(f) typeof(f) * p##f DECLSPEC_HIDDEN;
+#define MAKE_FUNCPTR(f) extern typeof(f) * p##f DECLSPEC_HIDDEN;
 MAKE_FUNCPTR(sane_init)
 MAKE_FUNCPTR(sane_exit)
 MAKE_FUNCPTR(sane_get_devices)
@@ -84,7 +84,7 @@
     TW_FIX32            defaultXResolution;
     BOOL                YResolutionSet;
     TW_FIX32            defaultYResolution;
-} activeDS DECLSPEC_HIDDEN;
+} extern activeDS DECLSPEC_HIDDEN;
 
 /* Helper functions */
 extern TW_UINT16 SANE_SaneCapability (pTW_CAPABILITY pCapability, TW_UINT16 action) DECLSPEC_HIDDEN;
--- a/dlls/sane.ds/sane_main.c	2020-01-22 10:45:52.264351469 -0600
+++ b/dlls/sane.ds/sane_main.c	2020-01-22 10:46:12.131414210 -0600
@@ -35,6 +35,7 @@
 #ifdef SONAME_LIBSANE
 
 HINSTANCE SANE_instance;
+struct tagActiveDS activeDS;
 
 static void *libsane_handle;
 
